---
layout: main
title: LODQA
#lodqa_url: 'http://localhost:9292'
lodqa_url: 'http://ws.lodqa.org'
---

<div class="intro">
LODQA (Linked Open Data Question Answering) is an open source project aiming at developing a system to generate SPARQL queries from natural language.
</div>

<fieldset class="news">
<legend>News</legend>
{% include news.html %}
</fieldset>

<div class="system-interface">
<h1 class="id">System demo</h1>

<h2>Configure</h2>

<form action="{{page:lodqa_url}}/analysis"
      method="get"
      entype="multipart/form-data"
      oninput="max_hop_value.value=max_hop.value">

<fieldset id="preset-menu">
<legend>Choose a configuration</legend>
<select name="preset" id="preset">
  <option value="{{ site.baseurl }}/configs/qald-biomed.json">QALD-Biomed</option>
  <option value="{{ site.baseurl }}/configs/bio2rdf-mashup.json">Bio2RDF-Meshup</option>
  <option value="{{ site.baseurl }}/configs/biogateway.json">BioGateway</option>
</select>
<p class="description"></p>
</fieldset>

<a href="#config-detail" class="button">show/hide advanced configuation ..</a>

<fieldset id="config-detail">
<legend>Advance configuration</legend>
<table>
<tr>
<th>End point</th>
<td><input name="endpoint_url" id="endpoint_url" type="url" placeholder="URL" style="width:100%" /></td>
</tr>
<tr>
<th>Graph</th>
<td><input name="graph_uri" id="graph_uri" type="url" placeholder="IRI" style="width:100%" /></td>
</tr>
<tr>
<th>Dictionary</th>
<td><input name="dictionary_url" id="dictionary_url" type="url" placeholder="URL" style="width:100%" /></td>
</tr>
<tr>
<th>Parser</th>
<td><input name="parser_url" id="parser_url" type="url" placeholder="URL" style="width:100%" /></td>
</tr>
<tr>
<th>Ignore Predicates</th>
<td><textarea name="ignore_predicates" id="ignore_predicates" type="text" maxlength="1000"
	   placeholder="newline-, tab-, or space-separated predicates."
	   style="height:50px; width:400px"></textarea><br/></td>
</tr>
<tr>
<th>Sortal Predicates</th>
<td><textarea name="sortal_predicates" id="sortal_predicates" type="text" maxlength="1000"
	   placeholder="newline-, tab-, or space-separated predicates."
	   style="height:50px; width:400px"></textarea></td>
</tr>
<tr>
<th>Max hop</th>
<td><input name="max_hop" id="max_hop" type="range" min="1" max="4" value="2" />
<output name="max_hop_value" id="max_hop_value" for="max_hop"></output></td>
</tr>
</table>

<fieldset>
<legend>You can also "GET" a configuration from the net</legend>
<input type="url" name="config" placeholder="URL" style="width:400px" />
</fieldset>

</fieldset>

<h2>Query</h2>

<input name="query" id="query" type="text" size="80"
	   required="required"
	   placeholder="Enter a natural language query."
	   style="height:30px; width:80%" />
<input type="submit"
	   value="submit"
	   style="height:30px; width:100px" />
</form>

<h2>Sample queries</h2>
<ul id="query-examples">
<li><a>what genes are associated with alzheimer disease?</a></li>
<li><a>what side effects are associated with streptomycin?</a></li>
<li><a>what drugs are used for diseases associated with the gene ALD?</a></li>
</ul>

<script type="text/javascript" src="http://code.jquery.com/jquery-latest.min.js"></script>
<!-- <script type="text/javascript" src="{{ site.baseurl }}/js/jquery-1.7.2.min.js"></script> -->
<script type="text/javascript">
    function setConfiguration(config_url) {
		$.ajax({
			url: config_url,
			dataType: 'json'
		}).done(function(config) {
			if ("description" in config) {
				$("#preset-menu .description").text(config.description);
			} else {
				$("#preset-menu .description").text('');
			}

			if ("queries" in config) {
				$("#query-examples").html("<li><a>" + config.queries.join("</a></li><li><a>") + "</a></li>");
				setQueriesCopiable();
			} else {
				$("#query-examples").html('');
			}

			if ("endpoint_url" in config) {
				$("#endpoint_url").val(config.endpoint_url)
			} else {
				$("#endpoint_url").val('')
			}

			if ("graph_uri" in config) {
				$("#graph_uri").val(config.graph_uri)
			} else {
				$("#graph_uri").val('')
			}

			if ("parser_url" in config) {
				$("#parser_url").val(config.parser_url)
			}

			if ("dictionary_url" in config) {
				$("#dictionary_url").val(config.dictionary_url)
			} else {
				$("#dictionary_url").val('')
			}

			if ("ignore_predicates" in config) {
				$("#ignore_predicates").val(config.ignore_predicates.join("\n"))
			}

			if ("sortal_predicates" in config) {
				$("#sortal_predicates").val(config.sortal_predicates.join("\n"))
			}

			if ("max_hop" in config) {
				$("#max_hop").val(config.max_hop); $("#max_hop_value").val(config.max_hop)
			}
	    });
	}

	function setQueriesCopiable () {
		$('#query-examples a').on('click', function() {
		    $("#query").val($(this).text());
		});		
	}

	$(function(){
		setConfiguration("{{ site.baseurl }}/configs/qald-biomed.json");

		$('#preset').on('change', function() {
			setConfiguration("{{ site.baseurl }}/configs/qald-biomed.json");
			setConfiguration($(this).val());
		});

		setQueriesCopiable();

	    $('#config-detail').hide();

	    $('a[href=#config-detail]').click(function(){
	        $($(this).attr('href')).toggle();
	        return false;
	    });
	});
</script>



<!-- <h1>Prototype Demo (targeting OMIM)</h1>
<form name="query" method="post"
      action="/query"
      entype="multipart/form-data">
<input id="oid" name="oid" type="text" size="80" required="required" placeholder="Enter an ontology ID (vid)." value="1348" style="display:none" />
<input id="oacronym" name="oacronym" type="text" size="80" required="required" value="OMIM" style="display:none" />
<input id="query" name="query" type="text" size="80" required="required" placeholder="Enter a natural language query." style="height:30px; width:80%" />
<input type="submit" value="submit" style="height:30px; width:100px" />
</form>

<script type="text/javascript">
  function setquery(query) {
    document.getElementById("query").value = query;
  }
</script>

<h2>Sample Queries</h2>
<ul>
<li><a onclick="setquery(this.innerHTML)">what genes are associated with kabuki syndrome?</a>
<li><a onclick="setquery(this.innerHTML)">what sign is associated with kabuki syndrome?</a>
<li><a onclick="setquery(this.innerHTML)">what cellular dysfunction is associated with kabuki syndrome?</a>
<li><a onclick="setquery(this.innerHTML)">what pathologic function is associated with kabuki syndrome?</a>
<li><a onclick="setquery(this.innerHTML)">what neoplastic process is associated with kabuki syndrome?</a>
<li><a onclick="setquery(this.innerHTML)">what anatomical abnormality is associated with kabuki syndrome?</a>
<li><a onclick="setquery(this.innerHTML)">what genes are associated with alzheimer disease?</a>
</ul>
 -->